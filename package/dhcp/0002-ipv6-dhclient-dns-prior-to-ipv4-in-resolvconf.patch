diff -Nuar dhcp-4.4.2-P1_orig/client/scripts/linux dhcp-4.4.2-P1/client/scripts/linux
--- dhcp-4.4.2-P1_orig/client/scripts/linux	2022-09-21 01:03:32.855819248 +0300
+++ dhcp-4.4.2-P1/client/scripts/linux	2022-09-21 01:05:39.788014291 +0300
@@ -37,8 +37,35 @@
 make_resolv_conf() {
     local new_resolv_conf
 
+    # DHCPv6
+    if [ -n "$new_dhcp6_domain_search" ] || [ -n "$new_dhcp6_name_servers" ]; then
+        new_resolv_conf=/etc/resolv.conf.dhclient-new
+        rm -f $new_resolv_conf
+
+        if [ -n "$new_dhcp6_domain_search" ]; then
+            echo "search ${new_dhcp6_domain_search}" >> $new_resolv_conf
+        fi
+
+        if [ -n "$new_dhcp6_name_servers" ]; then
+            for nameserver in $new_dhcp6_name_servers; do
+                # append %interface to link-local-address nameservers
+                if [ "${nameserver##fe80::}" != "$nameserver" ] ||
+                   [ "${nameserver##FE80::}" != "$nameserver" ]; then
+                    nameserver="${nameserver}%${interface}"
+                fi
+                echo nameserver $nameserver >>$new_resolv_conf
+            done
+        else # keep 'old' nameservers
+            sed -n /^\w*[Nn][Aa][Mm][Ee][Ss][Ee][Rr][Vv][Ee][Rr]/p /etc/resolv.conf >>$new_resolv_conf
+        fi
+
+        if [ -f /etc/resolv.conf ]; then
+            chown --reference=/etc/resolv.conf $new_resolv_conf
+            chmod --reference=/etc/resolv.conf $new_resolv_conf
+        fi
+        mv -f $new_resolv_conf /etc/resolv.conf
     # DHCPv4
-    if [ -n "$new_domain_search" ] || [ -n "$new_domain_name" ] ||
+    elif [ -n "$new_domain_search" ] || [ -n "$new_domain_name" ] ||
        [ -n "$new_domain_name_servers" ]; then
         new_resolv_conf=/etc/resolv.conf.dhclient-new
         rm -f $new_resolv_conf
@@ -73,37 +100,10 @@
             sed -n /^\w*[Nn][Aa][Mm][Ee][Ss][Ee][Rr][Vv][Ee][Rr]/p /etc/resolv.conf >>$new_resolv_conf
         fi
 
-	if [ -f /etc/resolv.conf ]; then
-	    chown --reference=/etc/resolv.conf $new_resolv_conf
-	    chmod --reference=/etc/resolv.conf $new_resolv_conf
-	fi
-        mv -f $new_resolv_conf /etc/resolv.conf
-    # DHCPv6
-    elif [ -n "$new_dhcp6_domain_search" ] || [ -n "$new_dhcp6_name_servers" ]; then
-        new_resolv_conf=/etc/resolv.conf.dhclient-new
-        rm -f $new_resolv_conf
-
-        if [ -n "$new_dhcp6_domain_search" ]; then
-            echo "search ${new_dhcp6_domain_search}" >> $new_resolv_conf
-        fi
-
-        if [ -n "$new_dhcp6_name_servers" ]; then
-            for nameserver in $new_dhcp6_name_servers; do
-                # append %interface to link-local-address nameservers
-                if [ "${nameserver##fe80::}" != "$nameserver" ] ||
-                   [ "${nameserver##FE80::}" != "$nameserver" ]; then
-                    nameserver="${nameserver}%${interface}"
-                fi
-                echo nameserver $nameserver >>$new_resolv_conf
-            done
-        else # keep 'old' nameservers
-            sed -n /^\w*[Nn][Aa][Mm][Ee][Ss][Ee][Rr][Vv][Ee][Rr]/p /etc/resolv.conf >>$new_resolv_conf
-        fi
-
-	if [ -f /etc/resolv.conf ]; then
+        if [ -f /etc/resolv.conf ]; then
             chown --reference=/etc/resolv.conf $new_resolv_conf
             chmod --reference=/etc/resolv.conf $new_resolv_conf
-	fi
+        fi
         mv -f $new_resolv_conf /etc/resolv.conf
     fi
 }
